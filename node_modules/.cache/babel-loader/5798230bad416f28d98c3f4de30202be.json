{"ast":null,"code":"import { ADD_TO_CART, REMOVE_FROM_CART, CLEAR_ALL_FROM_CART } from './types';\n\nconst addProductToCart = (state, product) => {\n  const copy = [...state.carts];\n  const curItemIndex = copy.findIndex(i => i.product.id === product.id);\n\n  if (curItemIndex < 0) {\n    copy.push({\n      product,\n      quantity: 1\n    });\n  } else {\n    const copyItem = { ...copy[curItemIndex]\n    };\n    copyItem.quantity++;\n    copy[curItemIndex] = copyItem;\n  }\n\n  return { ...state,\n    carts: copy\n  };\n};\n\nconst removeProductFromCart = (state, productID) => {\n  const copy = [...state.carts];\n  const curItemIndex = copy.findIndex(i => i.product.id === productID);\n  const curItem = { ...copy[curItemIndex]\n  };\n  curItem.quantity--;\n\n  if (curItem.quantity <= 0) {\n    copy.splice(curItemIndex, 1);\n  } else {\n    copy[curItemIndex] = curItem;\n  }\n\n  return { ...state,\n    carts: copy\n  };\n};\n\nconst clearCart = state => {\n  return { ...state,\n    carts: []\n  };\n};\n\nexport default ((state, action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      return addproductToCart(state, action.payload);\n\n    case REMOVE_FROM_CART:\n      return removeProductFromCart(state, action.payload);\n\n    case CLEAR_ALL_FROM_CART:\n      return clearCart(state);\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"names":["ADD_TO_CART","REMOVE_FROM_CART","CLEAR_ALL_FROM_CART","addProductToCart","state","product","copy","carts","curItemIndex","findIndex","i","id","push","quantity","copyItem","removeProductFromCart","productID","curItem","splice","clearCart","action","type","addproductToCart","payload"],"sources":["/Users/dianetsang/Documents/GitHub/seg3125project2/src/store/Reducer.js"],"sourcesContent":["\nimport {ADD_TO_CART, REMOVE_FROM_CART, CLEAR_ALL_FROM_CART} from './types';\n\nconst addProductToCart = (state, product) => {\n    const copy = [...state.carts];\n    const curItemIndex = copy.findIndex((i) => i.product.id === product.id);\n\n    if(curItemIndex < 0){\n        copy.push({product, quantity: 1});\n    }else{\n        const copyItem = {...copy[curItemIndex]};\n        copyItem.quantity++;\n        copy[curItemIndex] = copyItem;\n    }\n\n    return {...state, carts: copy};\n\n};\n\nconst removeProductFromCart = (state, productID) => {\n    const copy = [...state.carts];\n    const curItemIndex = copy.findIndex((i) => i.product.id === productID);\n\n\n    const curItem = {...copy[curItemIndex]};\n    curItem.quantity--;\n\n    if(curItem.quantity <= 0){\n        copy.splice(curItemIndex, 1);\n\n    }else{\n        copy[curItemIndex] = curItem;\n    }\n\n\nreturn {...state, carts: copy};\n};\n\nconst clearCart = (state) => {\n    return {...state, \n            carts: [],\n        };\n};\n\n\n\n\nexport default (state, action) => {\n    switch(action.type){\n        case ADD_TO_CART:\n            return addproductToCart(state, action.payload);\n        case REMOVE_FROM_CART:\n            return removeProductFromCart(state, action.payload);\n        case CLEAR_ALL_FROM_CART:\n            return clearCart(state);\n        default:\n            return state;\n    \n    }\n};"],"mappings":"AACA,SAAQA,WAAR,EAAqBC,gBAArB,EAAuCC,mBAAvC,QAAiE,SAAjE;;AAEA,MAAMC,gBAAgB,GAAG,CAACC,KAAD,EAAQC,OAAR,KAAoB;EACzC,MAAMC,IAAI,GAAG,CAAC,GAAGF,KAAK,CAACG,KAAV,CAAb;EACA,MAAMC,YAAY,GAAGF,IAAI,CAACG,SAAL,CAAgBC,CAAD,IAAOA,CAAC,CAACL,OAAF,CAAUM,EAAV,KAAiBN,OAAO,CAACM,EAA/C,CAArB;;EAEA,IAAGH,YAAY,GAAG,CAAlB,EAAoB;IAChBF,IAAI,CAACM,IAAL,CAAU;MAACP,OAAD;MAAUQ,QAAQ,EAAE;IAApB,CAAV;EACH,CAFD,MAEK;IACD,MAAMC,QAAQ,GAAG,EAAC,GAAGR,IAAI,CAACE,YAAD;IAAR,CAAjB;IACAM,QAAQ,CAACD,QAAT;IACAP,IAAI,CAACE,YAAD,CAAJ,GAAqBM,QAArB;EACH;;EAED,OAAO,EAAC,GAAGV,KAAJ;IAAWG,KAAK,EAAED;EAAlB,CAAP;AAEH,CAdD;;AAgBA,MAAMS,qBAAqB,GAAG,CAACX,KAAD,EAAQY,SAAR,KAAsB;EAChD,MAAMV,IAAI,GAAG,CAAC,GAAGF,KAAK,CAACG,KAAV,CAAb;EACA,MAAMC,YAAY,GAAGF,IAAI,CAACG,SAAL,CAAgBC,CAAD,IAAOA,CAAC,CAACL,OAAF,CAAUM,EAAV,KAAiBK,SAAvC,CAArB;EAGA,MAAMC,OAAO,GAAG,EAAC,GAAGX,IAAI,CAACE,YAAD;EAAR,CAAhB;EACAS,OAAO,CAACJ,QAAR;;EAEA,IAAGI,OAAO,CAACJ,QAAR,IAAoB,CAAvB,EAAyB;IACrBP,IAAI,CAACY,MAAL,CAAYV,YAAZ,EAA0B,CAA1B;EAEH,CAHD,MAGK;IACDF,IAAI,CAACE,YAAD,CAAJ,GAAqBS,OAArB;EACH;;EAGL,OAAO,EAAC,GAAGb,KAAJ;IAAWG,KAAK,EAAED;EAAlB,CAAP;AACC,CAjBD;;AAmBA,MAAMa,SAAS,GAAIf,KAAD,IAAW;EACzB,OAAO,EAAC,GAAGA,KAAJ;IACCG,KAAK,EAAE;EADR,CAAP;AAGH,CAJD;;AASA,gBAAe,CAACH,KAAD,EAAQgB,MAAR,KAAmB;EAC9B,QAAOA,MAAM,CAACC,IAAd;IACI,KAAKrB,WAAL;MACI,OAAOsB,gBAAgB,CAAClB,KAAD,EAAQgB,MAAM,CAACG,OAAf,CAAvB;;IACJ,KAAKtB,gBAAL;MACI,OAAOc,qBAAqB,CAACX,KAAD,EAAQgB,MAAM,CAACG,OAAf,CAA5B;;IACJ,KAAKrB,mBAAL;MACI,OAAOiB,SAAS,CAACf,KAAD,CAAhB;;IACJ;MACI,OAAOA,KAAP;EARR;AAWH,CAZD"},"metadata":{},"sourceType":"module"}